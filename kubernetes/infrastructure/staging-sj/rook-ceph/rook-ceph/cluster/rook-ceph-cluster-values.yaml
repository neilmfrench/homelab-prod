---
apiVersion: helm.toolkit.fluxcd.io/v2beta1
kind: HelmRelease
metadata:
  name: rook-ceph-cluster
spec:
  values:
    cephClusterSpec:
      dashboard:
        enabled: false
      mgr:
        count: 1
      storage:
        useAllNodes: true
        useAllDevices: true
        config:
          osdsPerDevice: "1"
      resources:
        mgr:
          requests:
            cpu: "50m"
            memory: "512Mi"
          limits:
            cpu: "100m"
            memory: "1Gi"
        mon:
          requests:
            cpu: "25m"
            memory: "512Mi"
          limits:
            cpu: "50m"
            memory: "1Gi"
        osd:
          requests:
            cpu: "100m"
            memory: "512Mi"
          limits:
            cpu: "125m"
            memory: "2Gi"
        mgr-sidecar:
          requests:
            cpu: "25m"
            memory: "100Mi"
          limits:
            cpu: "35m"
            memory: "200Mi"
        crashcollector:
          requests:
            cpu: "10m"
            memory: "64Mi"
          limits:
            cpu: "15m"
            memory: "128Mi"
        logcollector:
          requests:
            cpu: "50m"
            memory: "100Mi"
          limits:
            cpu: "70m"
            memory: "1Gi"
        prepareosd:
          requests:
            cpu: "100m"
            memory: "50Mi"
          limits:
            cpu: "125m"
            memory: "2Gi"
        cleanup:
          requests:
            cpu: "75m"
            memory: "100Mi"
          limits:
            cpu: "75m"
            memory: "1Gi"
